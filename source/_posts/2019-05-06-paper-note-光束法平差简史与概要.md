---
title: 论文笔记：单杰.光束法平差简史与概要.2018
categories: 论文笔记
tags:
  - 摄影测量
  - 论文笔记
  - 光束法平差
typora-root-url: 2019-05-06-paper-note-光束法平差简史与概要
mathjax: true
abbrlink: ce0b80af
date: 2019-05-06 15:24:56
---

## 1. 基本信息

> [1] 单杰. 光束法平差简史与概要[J]. 武汉大学学报(信息科学版), 2018, 43(12): 1797–1810.

发表在武大学报上的一片综述性质的文章，回顾了60年来光束法平差的在摄影测量学科的建立过程、基本的理论基础、误差的描述、粗差的提出、传统的模型解算方法以及最新的发展现状和趋势。对于回顾和更加全面的了解光束法平差，并深入研究相关内容是一篇非常好的综述文章，帮助读者全面的了解光束法平差的方方面面，由于是中文文献，而且整体写作深入浅出，对于了解摄影测量和平差基础的人应该相对较为容易理解，本文就不全面介绍文章了，只记录对笔者较为有价值的内容。

<!-- more -->

## 2. 基础理论

### 2.1 框幅相机

框幅相机的光束法平差模型建立在相机成像模型基础上，这与计算机视觉基本相同，可以使用欧式几何或者摄影几何进行描述，如下：

{% raw %}
$$
\begin{aligned}
&欧式几何公式： \mathbf{a}_i = \lambda_i\mathbf{R}(\mathbf{p_i} - \mathbf{t}) &\\
&摄影几何公式:  \overline{\mathbf{a}}_i = \mathbf{L} \overline{\mathbf{p}}_i &
\end{aligned}
$$
{% endraw %}

这是摄影测量共线方程以及计算机视觉中SFM和SLAM相关研究的基础。由于整体模型为线性方程，平差过程较为简单，也是基础的光束法平差的要解决的问题。

### 2.2 直线推扫线阵相机

这一类相机主要应用场景是航空摄影测量和卫星遥感图像。需要对拍摄平台在获取一景相片中的运动进行一定的假设，使用运动方程拟合平台的运动。对于航摄相片通常给予匀速直线运动假设，也可以利用机载POS系统的数据（GPS+IMU）进行联合平差。对于卫星图像而言，更常用的形式是将DLT模型拓展得到的有理函数模型(RFM)[^1]，利用卫星服务商提供的RPC参数进行平差计算。

### 2.3 其他约束参数

主要是指除了相片本身以外其他相关数据的约束，包括POS系统提供的定位和姿态信息，地面模型提供的高程约束，地面控制点距离约束等。这里特别注意的是，之前笔者已知以为这些约束要么作为平差初值进行解算，要么作为平差过程中的固定值进行约束（Ceres软件中提供了相应的功能，即可以固定某些参数的值不进行优化）。但实际上，约束方法是，计算其他参数测量值（如GPS测量的相机位置）与光束法平差得到的相机位置的计算之间的残差，通过最小化这个残差来实现参数的约束。由于同样为最小化残差，因此这些约束参数可以一起加入到光束法平差中，共同进行优化。

## 3. 系统误差和粗差

### 3.1 框幅相机系统误差——畸变

框幅相机一般使用成像畸变模型来描述系统误差，常用的模型为Brown模型，也就是常用的包含径向畸变、切向畸变以及不太常用的底片变形系数和和底片弯曲系数的畸变模型；另外还有一种给予多项式的Ebner模型，该模型为纯数学模型，缺少相应的物理含义。

畸变系统误差通常作为改正项添加到计算得到的理想相片坐标值得到最终的实际照片坐标值，即：
$$
\hat{x} = x_0 + \Delta x \\
\hat{y} = y_0 + \Delta y
$$
其中 $\Delta x$ 和 $\Delta y$ 分别标识系统误差的大小，其可以根据 $x_0$ 和 $y_0$ 以及相应的畸变参数计算得到。

另一个概念是**自检校光束法平差**，即将系统误差在光束法平差中一同确定而不需要再独立进行相机标定。由于一般畸变参数通常较小，因此可以以0值作为初值，将其加入到光束法平差中。

最后是**参数显著性检测**，判断参数在整体平差过程中的影像，这对于向旋转扫描这样复杂成像模型来说应该至关重要，但是文中描述的比较粗略，需要进一步查阅相关文献。

### 3.2 粗差检测

三种粗差检测方法，Barra法、迭代加权和李德仁方法，没太看懂，同需要进一步研究。

## 4. 光束法平差

主要分为线性模型的光束法平差和非线性模型的光束法平差。

### 4.1 线性模型

线性模型较为简单，可以证明可以使用完全矩阵运算的形式直接计算得到最优无偏的最小二乘解，但是适用范围小，仅适用于线性模型，对于普通的光束法平差以及添加多种约束的光束法平差并不适用。

### 4.2 非线性模型

这个是更加一般的模型，包括使用基本的牛顿法（需要计算二阶导和一阶导）和高斯-牛顿法（只用计算一阶导），LM算法（加速了高斯-牛顿法的收敛速度）。这些方法均有相应的C++库可以利用，不需要自己实现，如Ceres-solver，g2o等。

此外例如粒子群算法等启发式算法也被广泛应用于SLAM领域。



[^1]: GRODECKI J, DIAL G. Block adjustment of high-resolution satellite images described by rational polynomials[J]. Photogrammetric Engineering and Remote Sensing, 2003, 69(1): 59–68.